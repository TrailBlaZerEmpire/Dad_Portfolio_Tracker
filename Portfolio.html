<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Portfolio Design</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?display=swap&family=Manrope:wght@400;500;700;800&family=Noto+Sans:wght@400;500;700;900" />

  <!-- Tailwind CSS (CLEAN URL - no spaces) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

  <!-- Custom Styles -->
  <style>
    /* Force solid black background */
    body {
      background-color: #000000;
      min-height: 100vh;
      margin: 0;
      font-family: Manrope, 'Noto Sans', sans-serif;
    }

    /* Text colors */
    .text-green-500 { color: #4ade80; }
    .text-red-500 { color: #f87171; }
    .text-yellow-300 { color: #fde047; }

    /* Smooth color transitions */
    td { transition: color 0.3s ease; }
  </style>
</head>

<body class="text-white">

  <!-- Header -->
  <header class="flex items-center justify-between border-b border-solid border-b-gray-700 px-10 py-3 bg-black">
    <div class="flex items-center gap-8">
      <div class="flex items-center gap-4">
        <div class="size-4">
          <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M44 4H30.6666V17.3334H17.3334V30.6666H4V44H44V4Z" fill="currentColor"></path>
          </svg>
        </div>
        <h2 class="text-white text-lg font-bold">MahaVishnu Legacy</h2>
      </div>
      <nav class="flex items-center gap-9 text-sm">
        <a class="text-white" href="index.html">Home</a>
        <a class="text-white" href="Portfolio.html">Portfolio</a>
        <a class="text-white" href="Learn.html">Learn</a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <div class="px-40 py-5">
    <div class="max-w-4xl mx-auto">

      <!-- Title -->
      <div class="p-4">
        <h1 class="text-3xl font-bold text-white">Portfolio</h1>
        <p class="text-gray-400">View your investments and track performance.</p>
      </div>

      <!-- Totals -->
      <div class="flex flex-wrap gap-4 p-4">
        <div class="flex-1 p-6 bg-gray-900 rounded-xl">
          <p class="text-white">Total Portfolio Value</p>
          <p id="total-value" class="text-2xl font-bold text-white">RM 0.00</p>
        </div>
        <div class="flex-1 p-6 bg-gray-900 rounded-xl">
          <p class="text-white">Dividend Income</p>
          <p id="dividend-total" class="text-2xl font-bold text-green-400">RM 0.00</p>
        </div>
      </div>

      <!-- Daily Checklist -->
      <div style="
        max-width: 900px;
        margin: 20px auto;
        padding: 15px;
        background: rgba(255,255,255,0.05);
        border-radius: 12px;
        font-size: 0.95em;
        color: #b8e4a5;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        text-align: center;
      ">
        <strong>âœ… LESSON LEARNT IN LIFE </strong>
        <ol style="margin: 10px 0 0 20px; text-align: left;">
          <li>SAVED THE FIRST PORTFOLIO BY HALF which is 85k --> 50K ------> LINKS -->  <a href="https://www.sgx.com" target="_blank" style="color:#a3d98b">MYR </a> or <a href="https://www.google.com/finance" target="_blank" style="color:#a3d98b">Google Finance</a></li>
          <li> FOMO AND WENT INTO WARRANT FOR SHORTCUT <strong> --------> HUGE LOSSES AND WARRANT EXPIREDCurrent Price </strong></li>
          <li> SLOWLY ADDING FROM SAVING and FINAL PORTFOLIO is 25K </li>
        </ol>
      </div>

      <!-- Portfolio Table 1 -->
      <div style="max-width: 900px; margin: 0 auto;">
        <h2 class="text-white text-xl font-bold mt-5 mb-3">Your Holdings 2021 - 2022 </h2>
        <table class="w-full border border-gray-600 rounded-xl overflow-hidden">
          <thead class="bg-gray-800">
            <tr>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Date</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Stock</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Qty</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Cost</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Current</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Gain (%)</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Gain (RM)</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Dividend</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Remarks</th>
            </tr>
          </thead>
          <tbody id="portfolio-tbody">
            <!-- BIOHLD -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-01-26</td>
              <td class="px-4 py-2 text-white text-sm">BIOHLD</td>
              <td class="quantity px-4 py-2 text-sm">29800</td>
              <td class="initial-cost px-4 py-2 text-sm">$0.283</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.000</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">150.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">SOLD</td>
            </tr>
            <!-- JFTECH change to TAS -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-02-26</td>
              <td class="px-4 py-2 text-white text-sm">JFTECH</td>
              <td class="quantity px-4 py-2 text-sm">13000</td>
              <td class="initial-cost px-4 py-2 text-sm">$1.413</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.000</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">80.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">SOLD</td>
            </tr>
            <!-- Top Glove -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-01-21</td>
              <td class="px-4 py-2 text-white text-sm">Top Glove</td>
              <td class="quantity px-4 py-2 text-sm">7100</td>
              <td class="initial-cost px-4 py-2 text-sm">$5.235</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.000</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">3905.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">SOLD</td>
            </tr>
            <!-- Greatech -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-03-15</td>
              <td class="px-4 py-2 text-white text-sm">Greatech</td>
              <td class="quantity px-4 py-2 text-sm">4000</td>
              <td class="initial-cost px-4 py-2 text-sm">$2.500</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.000</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">120.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">SOLD</td>
            </tr>
            <!-- Tenaga change to Redtone-->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-01-21</td>
              <td class="px-4 py-2 text-white text-sm">Tenaga</td>
              <td class="quantity px-4 py-2 text-sm">1000</td>
              <td class="initial-cost px-4 py-2 text-sm">$9.80</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.0</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">1380.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">SOLD</td>
            </tr>
          </tbody>
        </table>

          <!-- Portfolio Table 2 -->
            <div style="max-width: 900px; margin: 0 auto;">
             <h2 class="text-white text-xl font-bold mt-5 mb-3">Your Holdings 2022 - 2023 (FOMO Period) </h2>
        <table class="w-full border border-gray-600 rounded-xl overflow-hidden">
          <thead class="bg-gray-800">
            <tr>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Date</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Stock</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Qty</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Cost</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Current</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Gain (%)</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Gain (RM)</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Dividend</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Remarks</th>
            </tr>
          </thead>
          <tbody id="portfolio-tbody">
            <!-- PETRONM (warrant expiry 22/12/2022) -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-01-26</td>
              <td class="px-4 py-2 text-white text-sm">PETRONM-CY</td>
              <td class="quantity px-4 py-2 text-sm">36500</td>
              <td class="initial-cost px-4 py-2 text-sm">$0.06641</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.000</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">0.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">EXPIRED</td>
            </tr>
            <!-- HENGYUAN (WARRANT EXPIRED) -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2024-02-26</td>
              <td class="px-4 py-2 text-white text-sm">HENGYUANC17</td>
              <td class="quantity px-4 py-2 text-sm">11100</td>
              <td class="initial-cost px-4 py-2 text-sm">$0.6092</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.0</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">0.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">EXPIRED</td>
            </tr>     
            <!-- BIOHLD -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-01-26</td>
              <td class="px-4 py-2 text-white text-sm">BIOHLD</td>
              <td class="quantity px-4 py-2 text-sm">29800</td>
              <td class="initial-cost px-4 py-2 text-sm">$0.283</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.00</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">0.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">WORTHLESS</td>
            </tr>
            <!-- DATASONIC WARRANT -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2021-01-26</td>
              <td class="px-4 py-2 text-white text-sm">DSONIC-WA </td>
              <td class="quantity px-4 py-2 text-sm">29800</td>
              <td class="initial-cost px-4 py-2 text-sm">$0.283</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.00</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">0.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">EXPIRED</td>
            </tr>
          </tbody>
        </table>  
        
          <!-- Portfolio Table 3 -->
            <div style="max-width: 900px; margin: 0 auto;">
             <h2 class="text-white text-xl font-bold mt-5 mb-3">Your Holdings Late 2023 - Present (COME BACK) </h2>
        <table class="w-full border border-gray-600 rounded-xl overflow-hidden">
          <thead class="bg-gray-800">
            <tr>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Date</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Stock</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Qty</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Cost</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Current</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Gain (%)</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Gain (RM)</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Dividend</th>
              <th class="px-4 py-3 text-left text-sm font-medium text-white">Remarks</th>
            </tr>
          </thead>
          <tbody id="portfolio-tbody">
            <!-- REDTONE -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2024-12-13</td>
              <td class="px-4 py-2 text-white text-sm">REDTONE</td>
              <td class="quantity px-4 py-2 text-sm">36500</td>
              <td class="initial-cost px-4 py-2 text-sm">$0.6641</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.500</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">0.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">ACTIVE</td>
            </tr>
            <!-- TAS -->
            <tr class="border-t border-gray-600">
              <td class="px-4 py-2 text-sm text-gray-400">2024-12-13</td>
              <td class="px-4 py-2 text-white text-sm">TAS</td>
              <td class="quantity px-4 py-2 text-sm">11100</td>
              <td class="initial-cost px-4 py-2 text-sm">$0.6092</td>
              <td class="current-price px-4 py-2 font-bold text-green-400">0.555</td>
              <td class="gain-pct px-4 py-2 text-sm">0%</td>
              <td class="gain-amount px-4 py-2 text-sm">$0.00</td>
              <td class="dividend-amount px-4 py-2 text-sm">0.00</td>
              <td class="px-4 py-2 text-sm text-gray-400">ACTIVE</td>
            </tr>            
          </tbody>
        </table>
     
        <!-- Total Gain -->
        <p id="total-gain" style="text-align: right; font-size: 0.9em; margin: 10px 20px; color: #b8e4a5;">Calculating...</p>

        <!-- Last Updated -->
        <p style="text-align: right; color: #8aad80; font-size: 0.9em; margin: 10px 20px 0 0; font-style: italic;">
          âœ… Last updated: August 14, 2025 | Manual update by Magane
        </p>
      </div>
    </div>
  </div>

  <!-- Auto-Calculation Script -->
  <script>
    // Format number with commas and 2 decimals
    function formatCurrency(value) {
      return new Intl.NumberFormat('en-MY', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      }).format(value);
    }

    // Run when page loads
    document.addEventListener('DOMContentLoaded', function () {
      let totalValue = 0;
      let totalInvested = 0;

      // Update each stock
      document.querySelectorAll('#portfolio-tbody tr').forEach(row => {
        const quantity = parseFloat(row.querySelector('.quantity').textContent);
        const initialCost = parseFloat(row.querySelector('.initial-cost').textContent.replace('$', ''));
        const currentPrice = parseFloat(row.querySelector('.current-price').textContent);

        const currentValue = currentPrice * quantity;
        const investedValue = initialCost * quantity;
        const profit = currentValue - investedValue;
        const percentage = investedValue !== 0 ? (profit / investedValue) * 100 : 0;

        totalValue += currentValue;
        totalInvested += investedValue;

        const gainAmountCell = row.querySelector('.gain-amount');
        const gainPctCell = row.querySelector('.gain-pct');

        gainAmountCell.textContent = profit >= 0 
          ? `+RM ${formatCurrency(Math.abs(profit))}` 
          : `-RM ${formatCurrency(Math.abs(profit))}`;
        gainPctCell.textContent = percentage >= 0 
          ? `+${percentage.toFixed(2)}%` 
          : `${percentage.toFixed(2)}%`;

        gainAmountCell.className = profit >= 0 
          ? 'text-green-500' 
          : 'text-red-500';
          
        gainPctCell.className = percentage >= 0 
          ? 'text-green-500' 
          : 'text-red-500';
      });

      // Update total portfolio value
      document.getElementById('total-value').textContent = `RM ${formatCurrency(totalValue)}`;

      // Update total gain/loss
      const totalGain = totalValue - totalInvested;
      const totalGainPct = totalInvested !== 0 ? (totalGain / totalInvested) * 100 : 0;
      document.getElementById('total-gain').textContent = 
        `Total P&L: RM ${formatCurrency(totalGain)} (${totalGainPct >= 0 ? '+' : ''}${totalGainPct.toFixed(2)}%)`;
      document.getElementById('total-gain').style.color = totalGain >= 0 ? '#4ade80' : '#f87171';

      // Update dividend total
      let dividendTotal = 0;
      document.querySelectorAll('.dividend-amount').forEach(cell => {
        dividendTotal += parseFloat(cell.textContent);
      });
      document.getElementById('dividend-total').textContent = `RM ${dividendTotal.toFixed(2)}`;
    });
  </script>

  <!-- PDF Export Button -->
  <div class="flex justify-center mt-8 mb-8">
    <button 
      onclick="window.print()" 
      class="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold rounded-lg hover:shadow-2xl transition-all duration-300 whitespace-nowrap">
      ðŸ“„ Export to PDF
    </button>
  </div>

</body>
</html>
